source("https://raw.githubusercontent.com/oltkkol/vmod/master/simplest_text.R")
library(tidyverse)
library("stringi")
library("stringr")
library("udpipe")
library("tidyverse")
source("https://raw.githubusercontent.com/oltkkol/vmod/master/simplest_text.R")
qfin_loadDirectory <- GetFilesContentsFromFolder("assets/finalQuestDir")
getTextInfo <- function(list){
loopNumber <- 0
infoStazeni <- udpipe_download_model(language="czech")
#FUNKCE
#1. počet typů a tokenů
getTokensAndTypes <- function (text) {
token <- length(tokenizedText)
type <- length(unique(tokenizedText))
cat("\n tokens:")
cat(token)
cat("\n types:")
cat(type)
}
#2. průměrná délka slov
getMeanWord<- function(text){
cat("\n mean word:")
cat(mean(nchar(text)))
}
#3. entropie slov
getEntropy <- function(text){
cat("\n entropy:")
tokenTable <- length(tokenizedText)
cat(tokenTable)
}
#4. udpipe quests
getUdpipeInfo <- function(anotace){
modelUdpipe <- udpipe_load_model(file = infoStazeni$file_model)
anotace <- udpipe_annotate(modelUdpipe, x = text)
sentenceTable <- table(anotace$sentence_id)
cat(sentenceTable)
#sentenceListNum <- c()
#for (i in sentenceTable){
# sentenceListNum <- append(i, sentenceListNum)
#}
#cat(mean(sentenceListNum))
}
#Loop přes všechny texty a iniciace funkcí
for (text in list) {
loopNumber <- loopNumber + 1
tokenizedText <- TokenizeText(text)
cat("\n \n")
cat(names(list[loopNumber]))
#getTokensAndTypes(tokenizedText)
#getMeanWord(tokenizedText)
#getEntropy(tokenizedText)
getUdpipeInfo(anotace)
}
}
getTextInfo(qfin_loadDirectory)
getTextInfo <- function(list){
loopNumber <- 0
infoStazeni <- udpipe_download_model(language="czech")
#FUNKCE
#1. počet typů a tokenů
getTokensAndTypes <- function (text) {
token <- length(tokenizedText)
type <- length(unique(tokenizedText))
cat("\n tokens:")
cat(token)
cat("\n types:")
cat(type)
}
#2. průměrná délka slov
getMeanWord<- function(text){
cat("\n mean word:")
cat(mean(nchar(text)))
}
#3. entropie slov
getEntropy <- function(text){
cat("\n entropy:")
tokenTable <- length(tokenizedText)
cat(tokenTable)
}
#4. udpipe quests
getUdpipeInfo <- function(text){
modelUdpipe <- udpipe_load_model(file = infoStazeni$file_model)
anotace <- udpipe_annotate(modelUdpipe, x = text)
sentenceTable <- table(anotace$sentence_id)
cat(sentenceTable)
#sentenceListNum <- c()
#for (i in sentenceTable){
# sentenceListNum <- append(i, sentenceListNum)
#}
#cat(mean(sentenceListNum))
}
#Loop přes všechny texty a iniciace funkcí
for (text in list) {
loopNumber <- loopNumber + 1
tokenizedText <- TokenizeText(text)
cat("\n \n")
cat(names(list[loopNumber]))
#getTokensAndTypes(tokenizedText)
#getMeanWord(tokenizedText)
#getEntropy(tokenizedText)
getUdpipeInfo(text)
}
}
getTextInfo(qfin_loadDirectory)
text <- GetFileContent("assets/knihy/hastrman-vysek.txt")
infoStazeni <- udpipe_download_model(language="czech")
modelUdpipe <- udpipe_load_model(file = infoStazeni$file_model)
anotace <- udpipe_annotate(modelUdpipe, x = text)
sentenceTable <- table(anotace$sentence_id)
cat(sentenceTable)
text <- GetFileContent("assets/knihy/hastrman-vysek.txt")
infoStazeni <- udpipe_download_model(language="czech")
modelUdpipe <- udpipe_load_model(file = infoStazeni$file_model)
anotace <- udpipe_annotate(modelUdpipe, x = text)
tabulkaAnotace <- as.data.frame()
sentenceTable <- table(anotace$sentence_id)
View(anotace)
tabulkaAnotace <- as.data.frame(anotace)
sentenceTable <- table(anotace$sentence_id)
sentenceTable <- tabulkaAnotace$sentence_id
sentenceTable
sentenceListNum < c()
sentenceListNum <- c()
for (i in sentenceTable){
sentenceListNum <- append(i, sentenceListNum)
}
sentenceListNum
anotace
sentenceTable <- table(tabulkaAnotace$sentence_id)
sentenceTable
sentenceListNum <- c()
for (i in sentenceTable){
sentenceListNum <- append(i, sentenceListNum)
}
sentenceListNum
mean(sentenceListNum)
getTextInfo <- function(list){
loopNumber <- 0
#FUNKCE
#1. počet typů a tokenů
getTokensAndTypes <- function (text) {
token <- length(tokenizedText)
type <- length(unique(tokenizedText))
cat("\n tokens:")
cat(token)
cat("\n types:")
cat(type)
}
#2. průměrná délka slov
getMeanWord<- function(text){
cat("\n mean word:")
cat(mean(nchar(text)))
}
#3. entropie slov
getEntropy <- function(text){
cat("\n entropy:")
tokenTable <- length(tokenizedText)
cat(tokenTable)
}
#4. udpipe quests
getUdpipeInfo <- function(text){
anotace <- udpipe_annotate(modelUdpipe, x = text)
tabulkaAnotace <- as.data.frame(anotace)
sentenceTable <- table(tabulkaAnotace$sentence_id)
sentenceListNum <- c()
for (i in sentenceTable){
sentenceListNum <- append(i, sentenceListNum)
}
cat("Mean sentence lenght")
cat(mean(sentenceListNum))
}
#Loop přes všechny texty a iniciace funkcí
for (text in list) {
loopNumber <- loopNumber + 1
tokenizedText <- TokenizeText(text)
cat("\n \n")
cat(names(list[loopNumber]))
#getTokensAndTypes(tokenizedText)
#getMeanWord(tokenizedText)
#getEntropy(tokenizedText)
getUdpipeInfo(text)
}
}
getTextInfo(qfin_loadDirectory)
getTextInfo <- function(list){
loopNumber <- 0
#FUNKCE
#1. počet typů a tokenů
getTokensAndTypes <- function (text) {
token <- length(tokenizedText)
type <- length(unique(tokenizedText))
cat("\n tokens:")
cat(token)
cat("\n types:")
cat(type)
}
#2. průměrná délka slov
getMeanWord<- function(text){
cat("\n mean word:")
cat(mean(nchar(text)))
}
#3. entropie slov
getEntropy <- function(text){
cat("\n entropy:")
tokenTable <- length(tokenizedText)
cat(tokenTable)
}
#4. udpipe quests
getUdpipeInfo <- function(text){
anotace <- udpipe_annotate(modelUdpipe, x = text)
tabulkaAnotace <- as.data.frame(anotace)
getMeanSentence(tabulkaAnotace)
getMeanSentence <- function(anotatedTable){
sentenceTable <- table(anotatedTable$sentence_id)
sentenceListNum <- c()
for (i in sentenceTable){
sentenceListNum <- append(i, sentenceListNum)
}
cat("Mean sentence lenght")
cat(mean(sentenceListNum))
}
}
#Loop přes všechny texty a iniciace funkcí
for (text in list) {
loopNumber <- loopNumber + 1
tokenizedText <- TokenizeText(text)
cat("\n \n")
cat(names(list[loopNumber]))
#getTokensAndTypes(tokenizedText)
#getMeanWord(tokenizedText)
#getEntropy(tokenizedText)
getUdpipeInfo(text)
}
}
getTextInfo(qfin_loadDirectory)
getTextInfo <- function(list){
loopNumber <- 0
#FUNKCE
#1. počet typů a tokenů
getTokensAndTypes <- function (text) {
token <- length(tokenizedText)
type <- length(unique(tokenizedText))
cat("\n tokens:")
cat(token)
cat("\n types:")
cat(type)
}
#2. průměrná délka slov
getMeanWord<- function(text){
cat("\n mean word:")
cat(mean(nchar(text)))
}
#3. entropie slov
getEntropy <- function(text){
cat("\n entropy:")
tokenTable <- length(tokenizedText)
cat(tokenTable)
}
#4. udpipe quests
getUdpipeInfo <- function(text){
anotace <- udpipe_annotate(modelUdpipe, x = text)
tabulkaAnotace <- as.data.frame(anotace)
getMeanSentence <- function(anotatedTable){
sentenceTable <- table(anotatedTable$sentence_id)
sentenceListNum <- c()
for (i in sentenceTable){
sentenceListNum <- append(i, sentenceListNum)
}
cat("Mean sentence lenght")
cat(mean(sentenceListNum))
}
getMeanSentence(tabulkaAnotace)
}
#Loop přes všechny texty a iniciace funkcí
for (text in list) {
loopNumber <- loopNumber + 1
tokenizedText <- TokenizeText(text)
cat("\n \n")
cat(names(list[loopNumber]))
#getTokensAndTypes(tokenizedText)
#getMeanWord(tokenizedText)
#getEntropy(tokenizedText)
getUdpipeInfo(text)
}
}
getTextInfo(qfin_loadDirectory)
getTextInfo <- function(list){
loopNumber <- 0
#FUNKCE
#1. počet typů a tokenů
getTokensAndTypes <- function (text) {
token <- length(tokenizedText)
type <- length(unique(tokenizedText))
cat("\n tokens:")
cat(token)
cat("\n types:")
cat(type)
}
#2. průměrná délka slov
getMeanWord<- function(text){
cat("\n mean word:")
cat(mean(nchar(text)))
}
#3. entropie slov
getEntropy <- function(text){
cat("\n entropy:")
tokenTable <- length(tokenizedText)
cat(tokenTable)
}
#4. udpipe quests
getUdpipeInfo <- function(text){
anotace <- udpipe_annotate(modelUdpipe, x = text)
tabulkaAnotace <- as.data.frame(anotace)
#4.1. Mean sentence
getMeanSentence <- function(anotatedTable){
sentenceTable <- table(anotatedTable$sentence_id)
sentenceListNum <- c()
for (i in sentenceTable){
sentenceListNum <- append(i, sentenceListNum)
}
cat("Mean sentence lenght")
cat(mean(sentenceListNum))
}
#4.2.Number of Verbs
getVerbNum <- function (anotatedTable){
getVerbs <- anotatedTable[ , "upos"]%>%
which("ADJ")
cat(getVerbs)
}
getVerbNum(tabulkaAnotace)
getMeanSentence(tabulkaAnotace)
}
#Loop přes všechny texty a iniciace funkcí
for (text in list) {
loopNumber <- loopNumber + 1
tokenizedText <- TokenizeText(text)
cat("\n \n")
cat(names(list[loopNumber]))
#getTokensAndTypes(tokenizedText)
#getMeanWord(tokenizedText)
#getEntropy(tokenizedText)
getUdpipeInfo(text)
}
}
getTextInfo(qfin_loadDirectory)
tabulkaAnotace
tabulkaAnotace[ , "upos"]
tabulkaAnotace[ , "upos"]%>%
which("ADJ")
which(, "ADJ")
tabulkaAnotace[ , "upos"]%>%
which(, "ADJ")
getSloveso <- tabulkaAnotace[ , "upos"]%>%
which("ADJ")
getSloveso <- tabulkaAnotace[ , "upos"]%>%
which(getSloveso = "ADJ")
tabulkaAnotace[ , "upos"]%>%generic.skeleton()
getSloveso <- which(tabulkaAnotace[ , "upos"] = "ADJ")
POS <- tabulkaAnotace[, "upos"]
POS
which(POS = "VERB")
which(POS == "VERB")
sum(which(POS == "VERB"))
length(which(POS == "VERB"))
POS <- tabulkaAnotace$upos
length(which(POS == "VERB"))
POS
POS <- tabulkaAnotace$upos
POS
tabulkaAnotace
tabulkaAnotace$xpos
tabulkaAnotace$xpos$"N"
tabulkaAnotace$xpos
which(tabulkaAnotace$xpos ==
"R"
)
which(tabulkaAnotace$xpos == "J*")
grepl("V", tabulkaAnotace$xpos)
grepl("V", tabulkaAnotace$xpos)
grepl("2", tabulkaAnotace$xpos)
tabulkaAnotace
grepl("....2.*", tabulkaAnotace$xpos)
getNoun <- tabulkaAnotace[ , c("upos", "xpos")]
getNoun
getNoun["NOUN"]
getNoun["NOUN", grepl(".*")]
getNoun[ , "NOUN"]
getNoun[ , "xpo"]
getNoun[ , "xpos"]
grepl("N...2.*", tabulkaAnotace$xpos)
which(grepl("N...2.*", tabulkaAnotace$xpos) == "TRUE")
which(grepl("N...2.*", tabulkaAnotace$xpos) == "TRUE")
which(grepl("N...2.*", tabulkaAnotace$xpos) == "TRUE")
getNoun[ , "xp]
which(grepl("N...2.*", tabulkaAnotace$xpos) == "TRUE")
table(grepl("N...2.*", tabulkaAnotace$xpos)
)
which((grepl("N...2.*", tabulkaAnotace$xpos)))
length(which((grepl("N...2.*", tabulkaAnotace$xpos))))
length(which((grepl("N...2.*", tabulkaAnotace$xpos))))
grepl("N...2.*", tabulkaAnotace$xpos)%>%
which()
grepl("N...2.*", tabulkaAnotace$xpos)%>%
which()%>%
length()
getTextInfo <- function(list){
loopNumber <- 0
#FUNKCE
#1. počet typů a tokenů
getTokensAndTypes <- function (text) {
token <- length(tokenizedText)
type <- length(unique(tokenizedText))
cat("\n tokens:")
cat(token)
cat("\n types:")
cat(type)
}
#2. průměrná délka slov
getMeanWord<- function(text){
cat("\n mean word:")
cat(mean(nchar(text)))
}
#3. entropie slov
getEntropy <- function(text){
cat("\n entropy:")
tokenTable <- length(tokenizedText)
cat(tokenTable)
}
#4. udpipe quests
getUdpipeInfo <- function(text){
anotace <- udpipe_annotate(modelUdpipe, x = text)
tabulkaAnotace <- as.data.frame(anotace)
#4.1. Mean sentence
getMeanSentence <- function(anotatedTable){
sentenceTable <- table(anotatedTable$sentence_id)
sentenceListNum <- c()
for (i in sentenceTable){
sentenceListNum <- append(i, sentenceListNum)
}
cat("Mean sentence lenght")
cat(mean(sentenceListNum))
}
#4.2.Number of Verbs
getVerbNum <- function (anotatedTable){
POS <- tabulkaAnotace$upos
getVerbs <- length(which(POS == "VERB"))
getNouns <- grepl("N...2.*", tabulkaAnotace$xpos)%>%
which()%>%
length()
cat(getVerbs)
cat(getNouns)
}
getVerbNum(tabulkaAnotace)
getMeanSentence(tabulkaAnotace)
}
#Loop přes všechny texty a iniciace funkcí
for (text in list) {
loopNumber <- loopNumber + 1
tokenizedText <- TokenizeText(text)
cat("\n \n")
cat(names(list[loopNumber]))
#getTokensAndTypes(tokenizedText)
#getMeanWord(tokenizedText)
#getEntropy(tokenizedText)
getUdpipeInfo(text)
}
}
getTextInfo(qfin_loadDirectory)
tableTest <- data.frame()
tabletest <- rbind(tableTest, novaLajna)
tabletest <- rbind(tableTest, "novaLajna")
tabletest
colnames(tableTest) <- c("test")
tableTest <- data.frame()
tableTest <- rbind("2")
View(tabulkaAnotace)
View(tableTest)
View(tableTest)
tableTest <- colnames("TEST")
tableTest <- rownames("TEST")
View(tabletest)
View(tabletest)
tableTest <- rownames("TEST")
View(tabletest)
tableTest <- data.frame()
View(tabulkaAnotace)
tableTest
tableTest <- rbind("1")
tableTest <- rbind("5")
View(tabletest)
tableTest <- rbind(tableTest, "1")
View(tableTest)
tableTest <- rbind(tableTest, "8")
tableTest <- rbind(tableTest, "Jmeno")
View(tableTest)
View(tableTest)
tableTest <- rownames(tableTest, "Jmeno")
townames?
/
?rownames
?rownames()
tableTest <- data.frame()
colnames(tableTest)
colnames(tableTest) <- c("Mlyn", "Lord")
tableTest <- rbind(tableTest, c("293", "32321", "232"))
tableTest <- cbind(tableTest, c("293", "32321", "232"))
tableTest <- data.frame()
View(tabletest)
View(tableTest)
tableTest <- rbind(tableTest, "2")
